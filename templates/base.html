
{% load static %}

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>资源监控</title>
  <meta name="renderer" content="webkit">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="{% static 'css/layui.css' %}" rel="stylesheet">
{#    <script src="../static/js/tools.js"></script>#}
</head>
<body>
<div class="layui-layout layui-layout-admin">
  <div class="layui-header">
    <div class="layui-logo layui-hide-xs layui-bg-black">硬件资源监控</div>
    <!-- 头部区域（可配合layui 已有的水平导航） -->
    <ul class="layui-nav layui-layout-left">
      <!-- 移动端显示 -->
      <li class="layui-nav-item layui-show-xs-inline-block layui-hide-sm" lay-header-event="menuLeft">
        <i class="layui-icon layui-icon-spread-left"></i>
      </li>
        <i class="layui-edge layui-edge-left"></i><i class="layui-edge layui-edge-right"></i>
      <li class="layui-nav-item layui-hide-xs" style="display: inline-block;"><a href="/base">首页</a></li>
      <li style="display: inline-block;">
          <div class="layui-input-wrap">
            <input type="text" lay-affix="search" lay-filter="search" lay-options="{split: true}" placeholder="搜索…" class="layui-input">
          </div>
      </li>
    </ul>

    <ul class="layui-nav layui-layout-right">
      <li class="layui-nav-item layui-hide layui-show-sm-inline-block">
        <a href="javascript:;">
          <img src="//unpkg.com/outeres@0.0.10/img/layui/icon-v2.png" class="layui-nav-img">
          tester
        </a>
        <dl class="layui-nav-child">
          <dd><a href="javascript:;">Your Profile</a></dd>
          <dd><a href="javascript:;">Settings</a></dd>
          <dd><a href="javascript:;">Sign out</a></dd>
        </dl>
      </li>
      <li class="layui-nav-item" lay-header-event="menuRight" lay-unselect>
        <a href="javascript:;">
          <i class="layui-icon layui-icon-more-vertical"></i>
        </a>
      </li>
    </ul>
  </div>
  <div class="layui-side layui-bg-black">
      <ul class="layui-nav layui-nav-tree" lay-filter="test">
        <li class="layui-nav-item layui-nav-itemed">
          <a class="" href="/ServerList">资源管理</a>
          <dl class="layui-nav-child">
            <dd><a href="javascript:;">CPU监测</a></dd>
            <dd><a href="javascript:;">内存监测</a></dd>
            <dd><a href="javascript:;">磁盘监测</a></dd>
            <dd><a href="javascript:;">the links</a></dd>
          </dl>
        </li>
        <li class="layui-nav-item">
          <a href="javascript:;">menu group 2</a>
          <dl class="layui-nav-child">
            <dd><a href="javascript:;">list 1</a></dd>
            <dd><a href="javascript:;">list 2</a></dd>
            <dd><a href="javascript:;">超链接</a></dd>
          </dl>
        </li>
        <li class="layui-nav-item"><a href="javascript:;">click menu item</a></li>
        <li class="layui-nav-item"><a href="javascript:;">the links</a></li>
      </ul>
    </div>
  </div>
    <div class="layui-body">
    <!-- 内容主体区域 -->
    <div style="padding: 15px;">
      <blockquote class="layui-elem-quote layui-text">
        Layui 框体布局内容主体区域
      </blockquote>
      <div class="layui-card layui-panel">
        <div class="layui-card-header">
        </div>
        <div class="layui-card-body">
        {% block Server_list %}{% endblock %}
        </div>
      </div>
      <br><br>
    </div>
  </div>
<div class="layui-footer">
    <!-- 底部固定区域 -->
    底部固定区域
</div>

<script src="{% static "/js/layui.js" %}"></script>
<script>
    //JS
    layui.use(['element', 'layer', 'util'], function(){
      var element = layui.element;
      var layer = layui.layer;
      var util = layui.util;
      var $ = layui.$;
      var form = layui.form;
      //头部事件
      util.event('lay-header-event', {
        menuLeft: function(othis){ // 左侧菜单事件
          layer.msg('展开左侧菜单的操作', {icon: 0});
        },
        menuRight: function(){  // 右侧菜单事件
          layer.open({
            type: 1,
            title: '硬件资源监控',
            content: '........',
            area: ['260px', '100%'],
            offset: 'rt', // 右上角
            anim: 'slideLeft', // 从右侧抽屉滑出
            shadeClose: true,
            scrollbar: false
          });
        }
      });
      // 输入框点缀事件 - 搜索示例
      form.on('input-affix(search)', function(data){
        var elem = data.elem; // 输入框
        var value = elem.value; // 输入框的值
        if(!value){
          layer.msg('请输入搜索内容');
          return elem.focus()
        }
        console.log(this);
        // 模拟搜索跳转
        location.href = '?keywords='+ value + '&_'+ new Date().getTime() +'#affix-custom';
      });
    });
    layui.use(function(){
      var flow = layui.flow;
      // 流加载实例
      flow.load({
        elem: '#ID-flow-demo', // 流加载容器
        scrollElem: '#ID-flow-demo', // 滚动条所在元素，一般不用填，此处只是演示需要。
        done: function(page, next){ // 执行下一页的回调
          // 模拟数据插入
          setTimeout(function(){
            var lis = [];
            for(var i = 0; i < 8; i++){
              lis.push('<li>'+ ( (page-1)*8 + i + 1 ) +'</li>')
            }

            // 执行下一页渲染，第二参数为：满足“加载更多”的条件，即后面仍有分页
            // pages 为 Ajax返回的总页数，只有当前页小于总页数的情况下，才会继续出现加载更多
            next(lis.join(''), page < 10); // 此处假设总页数为 10
          }, 520);
        }
      });
    });


</script>
</body>
</html>